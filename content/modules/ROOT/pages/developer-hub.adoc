= Platform Engineering - Red Hat Developer Hub

== Module Overview

**Duration:** 15-20 minutes +
**Format:** Dashboard exploration + Demo +
**Audience:** IT Operations, Platform Engineers, Infrastructure Architects

== The Problem: Manual Provisioning Doesn't Scale

Sound familiar?

1. Developer submits ticket: "I need a new microservice with CI/CD"
2. You manually create: namespace, RBAC, quotas, git repo, pipeline
3. Developer waits days (or weeks)
4. Repeat 50 times per quarter
5. Configurations drift, documentation gets stale

**This is unsustainable.** Every manual provisioning request is time you're not spending on real infrastructure work.

== The Solution: Developer Self-Service

**Red Hat Developer Hub (RHDH)** is an internal developer portal that lets developers provision their own appsâ€”using templates YOU define.

**How it works:**

1. You (Ops) create **golden path templates** with your standards baked in
2. Developers browse templates in a portal and click "Create"
3. Template automatically provisions: namespace, RBAC, quotas, pipeline, git repo
4. Developer starts coding in minutes, not days
5. Everything follows your standards because it came from your template

**The result:** Developers get self-service. You get consistency and fewer tickets.

== Learning Objectives

By the end of this module, you will:

* See what developers experience with self-service templates
* Understand how this reduces your provisioning workload
* Know how to monitor RHDH health and troubleshoot issues

== Part 1: Check That RHDH Is Running

First, verify the platform is healthy.

=== Step 1: Check RHDH Pods

[source,bash,role="execute"]
----
oc get pods -n backstage
----

You should see:

----
NAME                                       READY   STATUS
backstage-developer-hub-xxxxx              1/1     Running
backstage-psql-developer-hub-0             1/1     Running
----

=== Step 2: Get the Portal URL

[source,bash,role="execute"]
----
oc get route backstage-developer-hub -n backstage -o jsonpath='https://{.spec.host}'
----

=== Step 3: Access the Portal

1. Open the URL in a new browser tab
2. Select **Guest** to enter
3. Click **Enter**

image::rhdh-home-page.png[Developer Hub home page]

You're now in the Developer Hub portal that developers use.

== Part 2: See What Developers Get

The portal is empty because no templates are registered. Let's import demo templates so you can see the developer experience.

=== Step 4: Import Templates

1. On the Home screen, find the **Explore Your Software Catalog** section showing "No software catalog added yet"

image::rhdh-register-component.png[Register a component button]

2. Click **Register a component**
3. Enter this URL:

----
https://github.com/redhat-developer/red-hat-developer-hub-software-templates/blob/48056c57dbfcdcf2a7075819745b0203d1a8a42e/templates.yaml
----

4. Click **Analyze**

image::rhdh-import-templates.png[Templates discovered]

5. Click **Import**

=== Step 5: The Developer Experience

Now click **Create** in the left sidebar.

**This is what developers see:** A menu of pre-approved application templates.

* **Quarkus Backend** - Java microservice with CI pipeline
* **Spring Boot Backend** - Java microservice
* **Node.js Backend** - JavaScript/TypeScript service
* **Go Backend** - Go microservice

Click on **Quarkus Backend**. You'll see:

* Description, owner, tags
* **Launch Template** button

If a developer clicks Launch Template, they fill in a simple form (app name, repo location, etc.) and the template creates everything automatically.

**The key point:** Developers don't submit tickets to you. They self-serve. And everything they create follows your standards because it came from a template you approved.

NOTE: You may see a warning about missing entities. This is expected for demo templates.

== Part 3: How You Keep It Running

Your job is to keep this platform healthy so developers can self-serve.

=== Step 6: Monitor Health

Check the health endpoint:

[source,bash,role="execute"]
----
curl -sk $(oc get route backstage-developer-hub -n backstage -o jsonpath='https://{.spec.host}')/.backstage/health/v1/readiness
----

You should see `{"status":"ok"}`.

=== Step 7: Check Logs

When developers report issues, check the logs:

[source,bash,role="execute"]
----
oc logs -n backstage -l rhdh.redhat.com/app=backstage-developer-hub --tail=30
----

=== Step 8: Check Resource Usage

[source,bash,role="execute"]
----
oc adm top pods -n backstage
----

=== Step 9: View Configuration

RHDH configuration is stored in ConfigMaps and Secrets:

[source,bash,role="execute"]
----
oc get configmaps -n backstage
----

[source,bash,role="execute"]
----
oc get secrets -n backstage
----

== The Value For You

[cols="1,2"]
|===
|Before RHDH |After RHDH

|Developer submits ticket
|Developer self-serves

|You manually provision namespace, RBAC, quotas
|Template does it automatically

|Days or weeks of waiting
|Minutes

|Inconsistent configurations
|Everything follows your golden path

|50+ provisioning tickets per quarter
|Near zero
|===

**Every time this portal works, that's a ticket you didn't have to process.**

== Quick Reference

[source,bash]
----
# Check pods
oc get pods -n backstage

# Check health
curl -sk $(oc get route backstage-developer-hub -n backstage -o jsonpath='https://{.spec.host}')/.backstage/health/v1/readiness

# View logs
oc logs -n backstage -l rhdh.redhat.com/app=backstage-developer-hub --tail=50

# Restart after issues
oc rollout restart deployment/backstage-developer-hub -n backstage
----

== Key Takeaways

* **RHDH enables developer self-service** - They provision apps without tickets
* **You define the standards** - Templates bake in your security, quotas, and patterns
* **Your job is platform health** - Keep RHDH running, developers do the rest
* **Fewer tickets = more time for real work** - This is how you scale operations
